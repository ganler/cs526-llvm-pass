CMAKE_MINIMUM_REQUIRED(VERSION 3.4)
PROJECT(llvm-pass-tutorial)


SET(CMAKE_CXX_STANDARD 17)
SET(CMAKE_C_COMPILER "clang")
SET(CMAKE_CXX_COMPILER "clang++")

FIND_PACKAGE(LLVM REQUIRED CONFIG)

MESSAGE(STATUS "Found LLVM ${LLVM_PACKAGE_VERSION}")
MESSAGE(STATUS "Using LLVMConfig.cmake in: ${LLVM_DIR}")

LIST(APPEND CMAKE_MODULE_PATH "${LLVM_CMAKE_DIR}")

include(LLVM-Config)
include(HandleLLVMOptions)
include(AddLLVM)

INCLUDE_DIRECTORIES(${LLVM_INCLUDE_DIRS})

add_llvm_library(SwapAddLLVMPass MODULE
    SwapAdd.cpp

    PLUGIN_TOOL opt
    )

